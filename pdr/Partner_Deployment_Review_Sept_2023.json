{"data":{"type":"notebooks","attributes":{"name":"Partner Deployment Review - Sept 2023","metadata":{"type":"report"},"time":{"start":"2023-08-26T14:12:13.000Z","end":"2023-09-26T14:12:13.000Z","live":true},"cells":[{"id":"oovkuisp","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"\n\n![$COMPANY_LOGO](https://www.sqli.com/themes/custom/sqli_theme/dist/images/logo-text-animated.svg)\n\n**Account Manager contact details**\n> Pierre Quemard pierre.quemard@datadoghq.com\n\n"}}},{"id":"9ngpeun8","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Overview of Global Health Check\n\n- This health check was conducted on the behalf of **SQLI**\n- The metrics below are for **September2023**\n\n## What is this health-check about?\nThe purpose of this Health Check is to ensure that **SQLI** are deploying & using Datadog in the most optimal way, they are also used to identify areas for improvement or where further support may be needed in terms of best practices and guidance.\n\n## Top Action Items \n\nProduct | Component | Value | Score\n------|------|------ | -----\nInfra | Tags | 62% | Not great tag tag tag with service and version\nAPM | Tags | 50% | Not great again see how to use unified tagging\nLogs | Custom Metrics | 8% | Some Custom metrics with high cardinality that have impact on price\nAPM | Spans | \nK8s | Tags | 15% | Again no tag set up for service version and sometimes even env\nk8s | CPU | 20% | Average usage very low for k8s"}}},{"id":"gmehkmgh","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"---\n\n> Below you can see some of the metrics and data gathered from your account\n\n---\n\n"}}},{"id":"iy5i52lj","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Tagging best practices\n\nBelow are Datadog's [tagging requirements](https://docs.datadoghq.com/getting_started/tagging/#overview):\n\n1.  Tags must **start with a letter** and after that may contain the characters listed below:\n    -   Alphanumerics, Underscores, Minuses, Colons, Periods, Slashes (Other special characters are converted to underscores)\n2.  Tags can be **up to 200 characters** long and support Unicode letters\n\n3.  **Tags are converted to lowercase. Therefore, `CamelCase` tags are not recommended.**\n\n4.  A tag can be in the format `value` or `<KEY>:<VALUE>`. Commonly used tag keys are `env`, `instance`, and `name`. The key always precedes the first colon of the global tag definition.\n5.  Tags should not originate from [unbounded](https://docs.datadoghq.com/api/latest/metrics/#tag-configuration-cardinality-estimator) sources, such as epoch timestamps, user IDs, or request IDs\n6.  Limitations (such as downcasing) only apply to metric tags, not log attributes or span tags."}}},{"id":"vzck7zo8","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Infrastructure\n\n"}}},{"id":"jyalpd5w","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> **Summary (OPTIONAL)**\n\nComponent | Value | Score\n------|------ | -----\nHosts with an agent |63|Poor\nAgents with cloud integrations |85 | Ok\nAgents with `env` tags |100 |Great \nAgents with team tags | 0| N/A "}}},{"id":"mhuaceyu","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Hosts with an agent\n\n**Best Practices** \n- The agent offers more real time telemetry and enables the capability to turn on any integration.\n\n**Resources**\n- [Why should I install the Datadog Agent on my cloud instances? ](https://docs.datadoghq.com/agent/guide/why-should-i-install-the-agent-on-my-cloud-instances/#pagetitle)\n- Any EC2s or VMs with the Agent installed count as a single instance (no double-billing)."}}},{"id":"rnh66c7f","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query2 / query1 * 100"}],"queries":[{"aggregator":"max","data_source":"metrics","name":"query2","query":"sum:datadog.agent.running{*}"},{"aggregator":"max","data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.hosts{*}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":{"live_span":"1h"},"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"mjao3eq8","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Agents with cloud integrations \n\n**Best Practices** \n- The cloud integration offers another layer of metrics on the host and unlocks access to telemetry from managed services.\n"}}},{"id":"gvel627t","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"max","data_source":"metrics","name":"query1","query":"sum:datadog.agent.running{availability-zone:*}"},{"aggregator":"max","data_source":"metrics","name":"query2","query":"sum:datadog.agent.running{*}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":{"live_span":"1h"},"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"wzfmilbg","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"List of all hosts without any agent installed per cloud provider\n\nAWS | Azure | GCP \n------|------ |------\n[hosts agent version distribution](/infrastructure?groups=field%3Ametadata_agent_version&sort=status%2Cdesc&tab=details&tags=field%3Aapps%3Aaws&text=%21field%3Aapps%3Aalb%2C%21field%3Aapps%3Aelb%2C%21field%3Aapps%3Anlb%2C%21field%3Aapps%3Ards) | [hosts agent version distribution](/infrastructure?groups=field%3Ametadata_agent_version&sort=status%2Cdesc&tags=cloud_provider%3Aazure) | [hosts agent version distribution](/infrastructure?groups=field%3Ametadata_agent_version&sort=status%2Cdesc&tags=cloud_provider%3Agcp)\n[hosts with noagent](/infrastructure?tab=details&tags=field%3Aapps%3Aaws%2Cfield%3Ametadata_agent_version%3Anoagent&text=%21field%3Aapps%3Aalb%2C%21field%3Aapps%3Aelb%2C%21field%3Aapps%3Anlb%2C%21field%3Aapps%3Ards) | [hosts with noagent](/infrastructure?tags=cloud_provider%3Aazure%2Cfield%3Ametadata_agent_version%3Anoagent) | [hosts with noagent](/infrastructure?tags=cloud_provider%3Agcp%2Cfield%3Ametadata_agent_version%3Anoagent)\n[hosts with noagent](/infrastructure?tab=details&tags=field%3Ametadata_agent_version%3Anoagent%2Cfield%3Aapps%3Aaws&text=%21field%3Aapps%3Aalb%2C%21field%3Aapps%3Aelb%2C%21field%3Aapps%3Anlb%2C%21field%3Aapps%3Ards) (excluding alb, elb, nlb, rds) | \n\n"}}},{"id":"gwjdsubs","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Agents with `env` or `team` tags \n\n**Best Practices** \n- The `env` tag is common through all the products and provide consistency on any search.\n- Business tags ensures better ownership of each data object available in the platform\n- Example of business tags: `team` `cost_center` `squad` `business_unit` \n\n**Resources**\n- [Best practices for tagging your infrastructure and applications](https://www.datadoghq.com/blog/tagging-best-practices/)\n- [Unified Service Tagging](https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/?tab=kubernetes \"https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/?tab=kubernetes\")\nYou can check if any of the business tags are already being used in the following places:\n- [Host Map group by tag](/infrastructure/map?groupby=team)\n- [Usage attribution page](/billing/usage-attribution) (only available to admins)"}}},{"id":"ik25gp7g","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Agents with `env` or `team` tags \n\n**Best Practices** \n- The `env` tag is common through all the products and provide consistency on any search.\n- Business tags ensures better ownership of each data object available in the platform\n- Example of business tags: `team` `cost_center` `squad` `business_unit` \n\n**Resources**\n- [Best practices for tagging your infrastructure and applications](https://www.datadoghq.com/blog/tagging-best-practices/)\n- [Unified Service Tagging](https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/?tab=kubernetes \"https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/?tab=kubernetes\")\nYou can check if any of the business tags are already being used in the following places:\n- [Host Map group by tag](/infrastructure/map?groupby=team)\n- [Usage attribution page](/billing/usage-attribution) (only available to admins)"}}},{"id":"h8a84o4j","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:datadog.agent.running{env:*}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:datadog.agent.running{*}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"tn46i83h","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:datadog.agent.running{team:*}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:datadog.agent.running{*}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"7ar76eo3","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Serverless\n\n**Resources**\n- [Serverless Tagging](<https://docs.datadoghq.com/serverless/guide/serverless_tagging/>)\n- [Enhanced Lambda Metrics](<https://docs.datadoghq.com/serverless/enhanced_lambda_metrics/>)\n- [Mitigate cold starts in your lambda functions](<https://www.datadoghq.com/blog/detect-cold-starts-datadog-lambda-snapstart/>)\n"}}},{"id":"mqvf88at","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"List of functions per per cloud provider\n\n&nbsp;  | AWS | Azure | GCP \n------|------|------ |------\n&nbsp; | [AWS Lambda](https://app.datadoghq.com/functions?cloud=aws&entity_view=lambda_functions) | [Azure Functions](/functions?cloud=azure&entity_view=function) | [Google Cloud Functions](/functions?cloud=gcp)\n**Number of functions** | 90 | N/A | N/A"}}},{"id":"7w78j3hk","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Functions with `env`, `service`, `version` or `team` tags\n\n**Best Practices**\n- Adding `env` allows for scoping of application specific data across metrics, traces, and logs\n- Tag your functions by `service` or group your functions by another dimension for finer visibility into additional segments of your serverless application.\n\n\n> Summary\n[Functions with `env` tag](/functions?cloud=aws&group=&text_search=env%3A%2A) | TOTAL\n---- | ----\n80 | **88%**  | TOTAL\n\n[Functions with `service` tag](/functions?cloud=aws&group=&text_search=service%3A%2A) | TOTAL\n ---- | ----\n40| **44%** \n\n[Functions with `version` tag](/functions?cloud=aws&group=&text_search=version%3A%2A) | TOTAL\n ---- | ----\n 43 | **48%** \n\n[Functions with `team` tag](/functions?cloud=aws&group=&text_search=team%3A%2A) | TOTAL\n ---- | ----\n 0 | **0%** \n"}}},{"id":"3z77dvha","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Functions not submitting enhanced metrics\n\n**Best Practices**\n- Datadog generates enhanced Lambda metrics from your Lambda runtime out-of-the-box with low latency, several second granularity, and detailed metadata for cold starts and custom tags.\n- Enhanced Lambda metrics give you a view above and beyond the default \n\n> Summary functions not submitting enhanced metrics\n[Number of functions filtered by `-emitting_enhanced_metrics:true`](/functions?search=-emitting_enhanced_metrics%3Atrue&cloud=aws&group=&) | TOTAL\n---- | ----\n75 | **79%**\n"}}},{"id":"1eyzffag","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Functions with monitors connected\n\n**Best Practices**\n- Functions should be configured to notify to appropriate member/teams when an alert is triggered.\n\n> Summary of functions with monitors connected\n[Number of functions filtered by `metric:aws.lambda*`](/monitors/manage?q=metric%3Aaws.lambda%2A) | TOTAL\n---- | ----\n2 | **2.2%**\n"}}},{"id":"d893tqyb","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Kubernetes\n"}}},{"id":"zc9pkrdl","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> **Summary (OPTIONAL)**\n\nComponent | Value | Score\n------|------ | -----\nK8s containers with `env`, `service`, `version` tags |0|Poor\nCPU and memory by cluster | 30%| Good\nCPU and memory by k8s object | 40% | Good\n\n> Can be optimized to reduce Infra Cost"}}},{"id":"gy161hfn","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### K8s containers with `env`, `service`, and `version` tags \n\n**Best Practices** \n- The 3 tags enable better connection between the various products and data sources.\nWith these three tags, you can:\n-   Identify deployment impact with trace and container metrics filtered by version\n-   Navigate seamlessly across traces, metrics, and logs with consistent tags\n-   View service data based on environment or version in a unified fashion\n\n**Resources**\n- [Unified Service Tagging](https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/?tab=kubernetes#containerized-environment) \n  "}}},{"id":"dzxxjpbj","type":"notebook_cells","attributes":{"definition":{"title":"Container with env","type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.containers.running{env:*,!short_image:agent}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:kubernetes.containers.running{!short_image:agent}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"ngdrte25","type":"notebook_cells","attributes":{"definition":{"title":"Container with version","type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.containers.running{version:* ,!short_image:agent}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:kubernetes.containers.running{!short_image:agent}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"ojthtttl","type":"notebook_cells","attributes":{"definition":{"title":"Container with services","type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.containers.running{service:* ,!short_image:agent}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:kubernetes.containers.running{!short_image:agent}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"et98xk3r","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.containers.running{env:*,service:*,version:*,!short_image:agent}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:kubernetes.containers.running{!short_image:agent}"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"3wkou6yi","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.containers.running{!short_image:agent} by {kube_container_name,env,service,version}"}],"response_format":"scalar","formulas":[{"formula":"query1","limit":{"count":500,"order":"desc"}}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"q2mxmati","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"### Kubernetes Capacity Planning summary\n\n **Resources**\n-   [11 Facts About Real-World Container Use | Datadog](https://www.datadoghq.com/container-report-2020/#3 \"https://www.datadoghq.com/container-report-2020/#3\")\n-   [Highlights From KubeCon + CloudNativeCon 2022 | Datadog](https://www.datadoghq.com/blog/kubecon-cloudnativecon-highlights-2022/ \"https://www.datadoghq.com/blog/kubecon-cloudnativecon-highlights-2022/\")"}}},{"id":"6hxg1v2i","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"**CPU and memory by cluster**\n\n> The table below at cluster level will be impacted if containers are ignored from monitoring.\n "}}},{"id":"es4bcmk1","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.cpu.requests{*,*} by {kube_cluster_name,env}"},{"aggregator":"avg","data_source":"metrics","name":"query5","query":"sum:kubernetes.memory.requests{*,*,*,*} by {kube_cluster_name,env}"},{"aggregator":"avg","data_source":"metrics","name":"query7","query":"sum:kubernetes.cpu.usage.total{*,*,*,*} by {kube_cluster_name,env}"},{"aggregator":"avg","data_source":"metrics","name":"query8","query":"sum:kubernetes.memory.usage{*,*,*,*} by {kube_cluster_name,env}"}],"response_format":"scalar","formulas":[{"alias":"CPU requests","cell_display_mode":"number","formula":"query1","limit":{"count":500,"order":"desc"}},{"alias":"MEM requests","formula":"query5"},{"alias":"CPU usage / request","conditional_formats":[{"comparator":"<","palette":"black_on_light_yellow","value":60},{"comparator":">","palette":"black_on_light_yellow","value":140}],"formula":"query7 / (query1 * 1000000000) * 100"},{"alias":"MEM usage / request","conditional_formats":[{"comparator":"<","palette":"black_on_light_yellow","value":60},{"comparator":">","palette":"black_on_light_yellow","value":140}],"formula":"query8 / query5 * 100"}]}],"has_search_bar":"auto"},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"zidazus8","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"The column `CPU requests` and `Mem requests` represent the sum of the CPU and Mem requested by all the pods within the cluster. Those are important to look at because \"The kubelet also reserves at least the request amount of that system resource specifically for that container to use.\" [Kubernetes doc](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run).\n\nThe last 2 columns represent how well those CPU and Mem requests are used. Overall, being close to 100% means that the anticipated consumption of resource matched the actual usage. At a cluster level, this is a very high level indicator of good configuration. The table below will give a more actionable list of Kubernetes objects wrongly configured."}}},{"id":"7qk8fsdf","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"**CPU and memory by k8s objects**\n"}}},{"id":"rj3h9fw8","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:kubernetes.cpu.requests{*,*,*,*} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}"},{"aggregator":"avg","data_source":"metrics","name":"query5","query":"sum:kubernetes.memory.requests{*,*,*,*} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}"},{"aggregator":"avg","data_source":"metrics","name":"query7","query":"sum:kubernetes.cpu.usage.total{*,*,*,*} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}"},{"aggregator":"avg","data_source":"metrics","name":"query8","query":"sum:kubernetes.memory.usage{*,*,*,*} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}"}],"response_format":"scalar","formulas":[{"alias":"CPU requests","cell_display_mode":"number","formula":"query1","limit":{"count":500,"order":"desc"}},{"alias":"MEM requests","formula":"query5"},{"alias":"CPU usage / request","conditional_formats":[{"comparator":"<","palette":"black_on_light_yellow","value":60},{"comparator":">","palette":"black_on_light_yellow","value":140}],"formula":"query7 / (query1 * 1000000000) * 100"},{"alias":"MEM usage / request","conditional_formats":[{"comparator":"<","palette":"black_on_light_yellow","value":60},{"comparator":">","palette":"black_on_light_yellow","value":140}],"formula":"query8 / query5 * 100"}]}],"has_search_bar":"auto"},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"1o09itda","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Monitors\n\nMonitoring and alerting is an art that requires defining clear monitoring goals, choose the detection method, monitor at the appropriate level of detail, say what's happening, set the alert conditions either using thresholds or anomalies and notify your teams with actionable alerts to help troubleshoot and recover faster.\n\n## Resources\n\n* [Monitoring 101: Collecting the right data](https://www.datadoghq.com/blog/monitoring-101-collecting-data/)\n* [Monitoring 101: Alerting on what matters](https://www.datadoghq.com/blog/monitoring-101-alerting/)\n* [Monitoring 101: Investigating performance issues](https://www.datadoghq.com/blog/monitoring-101-investigation/)\n* [Alerting 101: Status checks](https://www.datadoghq.com/blog/alerting-101-status-checks/)\n* [Alerting 101: Timeseries metric checks](https://www.datadoghq.com/blog/alerting-101-metric-checks/)"}}},{"id":"ffcgc6we","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> Summary (OPTIONAL)\n\nComponent | Value | Score\n------|------|------\nMonitors muted for less than 15 days |  2.22% | Good but why keep them ?\nMonitors in alert state for less than 1 week| 68%  | Some monitor have been triggered too long !\nMonitors with `env` , `service` tags |18% | Service tag not used !\nMonitors triggering more than 15 days | 37  | Too many emails !"}}},{"id":"5w5wfku5","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Monitors muted for less than 15 days\n**Best Practice** \n- Reduce alert fatigue by reviewing the monitor thresholds constantly and adapt to current baseline.\n- Monitors must still be relevant to avoid noise. Muted monitors do no provide any notification.\n\n> **Summary**\n[Number of monitors](/monitors/manage) | [Monitors filtered by `muted_elapsed:15d`](/monitors/manage?q=muted_elapsed%3A15d) | TOTAL\n---- | ---- | ----\n806 | 18 | **2.22%**\n"}}},{"id":"5osbwqdz","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Monitors in alert state for more than 1 week\n\n**Best Practice**\n-  A monitor in alert state for more than 7 days may be misconfigured\n\n> **Summary**\n[Number of triggered monitors](/monitors/triggered) | [Filtered by `NOT triggered:10080`](/monitors/triggered?q=NOT%20triggered%3A10080) | TOTAL\n---- | ---- | ----\n121 | 82 | **68%**\n"}}},{"id":"0cgx1979","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Monitors with `env`, `service` tags\n\n**Resources:**\n- [Unified Service Tagging](https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/)\n- [Monitor Tag Policies](https://docs.datadoghq.com/monitors/settings/)\n\n**Best Practices** \n- The two tags ensure connection between APM services and monitors\n\n[Monitors with `env` tag](/monitors/manage?q=env%3A%2A) | TOTAL\n---- | ----\n766 | **95%**\n\n\n[Monitors with `service:*` tag](/monitors/manage?q=%20service%3A%2A) | TOTAL\n---- | ----\n146 | **18%**\n\n[Monitors with both `service:* env:*` tags](/monitors/manage?q=env%3A%2A%20service%3A%2A) | TOTAL\n ---- | ----\n144 | **17,8%**\n"}}},{"id":"nq4hleis","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Monitors triggering more than 15 times in the past week\n\n**Best Practice** \n- Monitors triggering more than 15 times per week would indicate alert fatigue.\n- Review current thresholds and consider using the monitor in Composite with anomaly detection\n"}}},{"id":"lzunszxc","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"compute":{"aggregation":"count"},"data_source":"events","group_by":[{"facet":"@monitor_id","limit":30,"sort":{"aggregation":"count","order":"desc"}},{"facet":"@evt.name","limit":30,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["*"],"name":"query1","search":{"query":"source:alert status:error"}}],"response_format":"scalar","formulas":[{"alias":"alerts","conditional_formats":[{"comparator":">","palette":"black_on_light_yellow","value":15}],"formula":"query1","limit":{"count":900,"order":"desc"}}]}],"custom_links":[{"label":"View related monitor: {{@monitor_id.value}}","link":"/monitors/{{@monitor_id.value}}"}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"yvu7j9xn","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"compute":{"aggregation":"count"},"data_source":"events","group_by":[{"facet":"@monitor_notifications","limit":10,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["*"],"name":"query1","search":{"query":"source:alert status:error"}}],"response_format":"scalar","formulas":[{"alias":"alerts","formula":"query1","limit":{"order":"desc"}}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"c64hfufb","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"Email set up to receive security alerts [default is to datadog-admin account](https://support-admin.eu1.prod.dog/organization-settings/preferences)"}}},{"id":"fsgzxkq7","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Log Management\n\n**Resources:**\n- [Logging Without Limits](https://docs.datadoghq.com/logs/guide/getting-started-lwl/)\n- [Log Parsing - Best Practices](https://docs.datadoghq.com/logs/guide/log-parsing-best-practice/)\n\n"}}},{"id":"z7gibpxw","type":"notebook_cells","attributes":{"definition":{"show_legend":false,"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"logs","name":"query1","indexes":["*"],"compute":{"aggregation":"count","interval":1800000},"group_by":[{"facet":"status","limit":5,"sort":{"order":"desc","aggregation":"count"}}],"search":{"query":""},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"semantic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"time":{"live_span":"1d"},"split_by":{"tags":[],"keys":[]},"graph_size":"m"}},{"id":"g00xsl55","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> Summary (OPTIONAL)\nComponent| Value |Score\n------|------|------ \nOverall exclusion ration |39.93 | Good \nIndexed logs going through a pipeline |89.07 | Ok\nIndexed logs without `status:debug` | 98.1|Great\nMulti-line logs| 98 | Further Investigation"}}},{"id":"1hmjoxwu","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Overall Exclusion Ratio\n"}}},{"id":"abxmj50n","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">","palette":"black_on_light_green","value":30},{"comparator":">=","palette":"black_on_light_yellow","value":1},{"comparator":"<","palette":"black_on_light_red","value":1}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:true,*,*}.as_count()"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:datadog.estimated_usage.logs.ingested_events{*,*}.as_count()"}],"response_format":"scalar"}],"autoscale":false,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"ta8f3bu6","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Indexed logs going through a pipeline \n\n**Best Practice** \n- Datadog's Log Explorer works best with structured data. Even JSON logs can benefit from categorization and enrichment of data.\n\n**Resources**\n- [Log Pipelines](https://docs.datadoghq.com/logs/log_configuration/pipelines/?tab=source) \n- [Unparsed Logs ingested](/logs?query=datadog.pipelines%3Afalse&cols=host%2Cservice%2Csource)"}}},{"id":"ibkkvujp","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":70},{"comparator":"<","palette":"black_on_light_red","value":70}],"formulas":[{"formula":"(query2 - query1) / query2 * 100"}],"queries":[{"compute":{"aggregation":"count"},"data_source":"logs","group_by":[],"indexes":["*"],"name":"query2","search":{"query":""},"storage":"hot"},{"compute":{"aggregation":"count"},"data_source":"logs","group_by":[],"indexes":["*"],"name":"query1","search":{"query":"datadog.pipelines:false"},"storage":"hot"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"9mgvvmb2","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Indexed logs without `status:debug`\n\n**Best Practices** \n- DEBUG logs are often only required during troubleshooting time. Index them only when needed.\n\n**Resources**\n-  [Log Indexes](https://docs.datadoghq.com/logs/log_configuration/indexes/#switch-off-switch-on) \n-  [Indexed debug logs query](/logs?query=status%3Adebug&cols=host%2Cservice&index=&messageDisplay=inline&stream_sort=desc&viz=timeseries)"}}},{"id":"c96g8svj","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":80},{"comparator":"<","palette":"black_on_light_red","value":80}],"formulas":[{"formula":"(query1 - query2) / query1 * 100"}],"queries":[{"compute":{"aggregation":"count"},"data_source":"logs","group_by":[],"indexes":["*"],"name":"query1","search":{"query":""},"storage":"hot"},{"compute":{"aggregation":"count"},"data_source":"logs","group_by":[],"indexes":["*"],"name":"query2","search":{"query":"status:debug"},"storage":"hot"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"d111pnlk","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Multi-line index logs\n\n**Best Practice**\n- Multi-line logs should be transformed into single line for better analysis and reduce event indexing volume.\n\n**Resources**\n-  [Advance log collection - multi-line aggregation](https://docs.datadoghq.com/agent/logs/advanced_log_collection/?tab=configurationfile#multi-line-aggregation) \n\n\n**How to find multi-line logs?**\n\nThere is no foolproof way to determine in app which of the logs you are sending are multi-line without knowing something about the log pattern, such as what regex determines a new log entry (usually a date/time). Thus, if your logs are not sent in JSON, the onus of determining which lines are multi-line is on those configuring log collection.  \n\nYou can use the below widget as a starting point for identifying logs that might benefit from multi-line aggregation. Another mechanism would be to browse your log patterns to see if any patterns identified might be a component of a multi-line log. \n"}}},{"id":"ndp573jk","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">=","palette":"black_on_light_green","value":90},{"comparator":">=","palette":"black_on_light_yellow","value":75},{"comparator":"<","palette":"black_on_light_red","value":75}],"formulas":[{"formula":"(query1 - query2) / query1 * 100"}],"queries":[{"data_source":"logs","name":"query1","indexes":["*"],"compute":{"aggregation":"count"},"group_by":[],"search":{"query":""},"storage":"hot"},{"data_source":"logs","name":"query2","indexes":["*"],"compute":{"aggregation":"count"},"group_by":[],"search":{"query":"message:\"at *\""},"storage":"hot"}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"3wwszmba","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"The query above is not 100% accurate and do not cover all patterns. Update the query based on the situation."}}},{"id":"a118bbzo","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Custom Metrics\n\n**Resources**\n- [Custom Metrics Docs](https://docs.datadoghq.com/metrics/custom_metrics/) \n- [Custom Metrics Billing](https://docs.datadoghq.com/account_management/billing/custom_metrics/)\n- [Metrics without Limits](https://www.datadoghq.com/blog/metrics-without-limits/)\n- [Custom Metrics Governance with Observability Pipelines](https://docs.datadoghq.com/observability_pipelines/guide/custom-metrics-governance/)\n"}}},{"id":"44girtjt","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> Summary (OPTIONAL)\n\nComponent | Value | Score \n------|------|------\n Number of metrics with high cardinality |  2 | Ok"}}},{"id":"qgywn95n","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Metrics with high cardinality\n\n**Best Practices**\n- Metrics with a high cardinality compared to the other often highlights a misconfiguration.\n- Use Datadog's supported integrations instead of OpenMetrics or Prometheus metrics scrape.\n"}}},{"id":"vwx6m5an","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"queries":[{"aggregator":"avg","data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.metrics.custom.by_metric{*} by {metric_name}"},{"aggregator":"avg","data_source":"metrics","name":"query2","query":"sum:datadog.estimated_usage.metrics.custom{*}"}],"response_format":"scalar","formulas":[{"alias":"% total volume","conditional_formats":[{"comparator":">","palette":"black_on_light_red","value":15},{"comparator":">","palette":"black_on_light_yellow","value":8}],"formula":"query1 / query2 * 100","limit":{"count":500,"order":"desc"}}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"sjk9gb5i","type":"notebook_cells","attributes":{"definition":{"show_legend":true,"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.metrics.custom.by_metric{*} by {metric_name}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"m"}},{"id":"s0gcdtwq","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# APM | Application Performance Management\n\n**Resources:**\n- [Datadog Service Catalog](https://docs.datadoghq.com/tracing/service_catalog/)\n- [APM Terms and Concepts](https://docs.datadoghq.com/tracing/glossary/)\n- [Ingestion volume control with APM Distributed Tracing](https://docs.datadoghq.com/tracing/guide/trace_ingestion_volume_control/)\n- [Connect APM Data with Other Telemetry](https://docs.datadoghq.com/tracing/other_telemetry/)\n- [Ingestion Sampling with OpenTelemetry](https://docs.datadoghq.com/opentelemetry/guide/ingestion_sampling_with_opentelemetry/)\n- [Unified Service Tagging](https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/) "}}},{"id":"bdiqrzf8","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> Summary (OPTIONAL)\nComponent | Value | Score\n------|------|------\nServices connected to monitors | 100%|Great \nSpans with `env` and `version` tags | 70%| Ok \n Generic services to rename |1 |Good\n Monitors on APM Errors |0 | Bad\n APM services with App Analytics (`Legacy Setup`) | 11| To be updated\n Monitors with APM data |85| To be updated\n"}}},{"id":"ckc6pc1h","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Services connected to monitors\n\n**Best Practice** \n- Adding the tag `env` and `service` on monitors will ensure that multiple APM pages provide connection to monitors\n\n> **Summary**\n[Number of services](/services?query=telemetry%3Adistributed_tracing) | [With `monitor_status:n/a`](/services?query=telemetry%3Adistributed_tracing%20AND%20monitor_status%3A\"n%2Fa\"%20&env=prod&hostGroup=%2A) | TOTAL\n---- | ----| ----\n48 | 0 | **100%**\n\n"}}},{"id":"bw6tz48h","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Service spans with `env` and `version` tags \n\n**Best Practice** \n- Those tags ensure that monitors, containers, etc. are connected to a service. This will improve the deployment tracking capabilities, telemetry data correlation, helping reducing the MTTD and MTTR.\n"}}},{"id":"u7eyvpdm","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"compute":{"aggregation":"count"},"data_source":"spans","group_by":[{"facet":"service","limit":50,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["trace-search"],"name":"query2","search":{"query":"@_top_level:1"}},{"compute":{"aggregation":"count"},"data_source":"spans","group_by":[{"facet":"service","limit":50,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["trace-search"],"name":"query1","search":{"query":"@_top_level:1 env:* @version:*"}}],"response_format":"scalar","formulas":[{"alias":"spans","formula":"query2","limit":{"order":"desc"}},{"alias":"% spans with env and version","conditional_formats":[{"comparator":">","palette":"black_on_light_green","value":95},{"comparator":">","palette":"black_on_light_yellow","value":80},{"comparator":"<=","palette":"black_on_light_red","value":80}],"formula":"query1 / query2 * 100"}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"sm9lybgj","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"compute":{"aggregation":"count"},"data_source":"spans","group_by":[{"facet":"service","limit":50,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["trace-search"],"name":"query2","search":{"query":"@_top_level:1"}},{"compute":{"aggregation":"count"},"data_source":"spans","group_by":[{"facet":"service","limit":50,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["trace-search"],"name":"query1","search":{"query":"@_top_level:1 env:* @version:*"}}],"response_format":"scalar","formulas":[{"alias":"spans","formula":"query2","limit":{"order":"desc"}},{"alias":"% spans with env and version","conditional_formats":[{"comparator":">","palette":"black_on_light_green","value":95},{"comparator":">","palette":"black_on_light_yellow","value":80},{"comparator":"<=","palette":"black_on_light_red","value":80}],"formula":"query1 / query2 * 100"}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"g87d8xte","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"compute":{"aggregation":"count"},"data_source":"spans","group_by":[{"facet":"service","limit":50,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["trace-search"],"name":"query2","search":{"query":"@_top_level:1"}},{"compute":{"aggregation":"count"},"data_source":"spans","group_by":[{"facet":"service","limit":50,"sort":{"aggregation":"count","order":"desc"}}],"indexes":["trace-search"],"name":"query1","search":{"query":"@_top_level:1 env:* @version:*"}}],"response_format":"scalar","formulas":[{"alias":"spans","formula":"query2","limit":{"order":"desc"}},{"alias":"% spans with env and version","conditional_formats":[{"comparator":">","palette":"black_on_light_green","value":95},{"comparator":">","palette":"black_on_light_yellow","value":80},{"comparator":"<=","palette":"black_on_light_red","value":80}],"formula":"query1 / query2 * 100"}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"tph3y8f9","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Generic services to rename\nDatadog's Tracer auto-instrumentation is capable of auto-detecting the most common frameworks per language, but they need to be decorated to match the services they belong to.\nFor instance: `postgres`, `mysql`, `sqlserver`, `java-aws-sdk`, `mongodb`, `http-client`,...\n\n**Best Practice** \n- Any standard service should be renamed to have APM metrics related to a unique service. Use `DD_SERVICE_MAPPING` to add a prefix. "}}},{"id":"i4vf85ya","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"aggregator":"avg","queries":[{"data_source":"spans","name":"query1","indexes":["trace-search"],"compute":{"aggregation":"count"},"group_by":[{"facet":"service","limit":10,"sort":{"order":"desc","aggregation":"count"}}],"search":{"query":"service:(*sql OR redis* OR mongo* OR mysql* OR postgres OR sqlserver OR mssql OR sqs OR http-client)"}}],"response_format":"scalar","formulas":[{"formula":"query1"}]}]},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"utaj79vj","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Monitors on APM errors \n\n**Best Practices** \n-  [Error tracking monitors](https://docs.datadoghq.com/monitors/types/error_tracking \"https://docs.datadoghq.com/monitors/types/error_tracking\") ensure that new patterns and existing patterns of errors are under control or notify users.\n\n> **Summary**\n[Number of monitors filtered by `type:error-tracking`](/monitors/manage?q=type%3Aerror-tracking) |\n-----|\n0 |"}}},{"id":"9jvt4xnh","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">","palette":"black_on_light_green","value":95}],"formulas":[{"alias":"% contribution to service/env volume","formula":"(query2 - query1) / query2 * 100"}],"queries":[{"aggregator":"sum","data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.apm.ingested_bytes{ingestion_reason:analytics}.as_count()"},{"aggregator":"sum","data_source":"metrics","name":"query2","query":"sum:datadog.estimated_usage.apm.ingested_bytes{*}.as_count()"}],"response_format":"scalar"}],"autoscale":true,"precision":2},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"cq1td8xf","type":"notebook_cells","attributes":{"definition":{"type":"query_table","requests":[{"queries":[{"aggregator":"sum","data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.apm.ingested_bytes{ingestion_reason:analytics} by {env,service}.as_count()"},{"aggregator":"sum","data_source":"metrics","name":"query2","query":"sum:datadog.estimated_usage.apm.ingested_bytes{*} by {env,service}.as_count()"}],"response_format":"scalar","formulas":[{"alias":"Span volume","formula":"query1","limit":{"count":500,"order":"desc"}},{"alias":"% contribution to service/env volume","formula":"query1 / query2 * 100"}]}]},"time":null,"split_by":{"tags":[],"keys":[]}}},{"id":"2ibigqvz","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Monitors with APM Data\n\n**Best Practices**\n- [APM monitors](https://docs.datadoghq.com/monitors/types/apm/?tab=apmmetrics \"https://docs.datadoghq.com/monitors/types/apm/?tab=apmmetrics\") are required to receive alerts on disruption on the golden metrics and any custom cases. Most monitors should be metric based since those metrics are based on 100% of the traffic.\n\n> **Summary**\n[Number of monitors filtered by `type:apm`](/monitors/manage?q=type%3Aapm) | [Number of monitors filtered by `type:trace-analytics`](/monitors/manage?q=type%3Atrace-analytics)\n---- | ----\n85 | 11\n"}}},{"id":"7yoqw2ci","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# RUM\n"}}},{"id":"0vhhpa79","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## RUM Resources connected to APM\n\n**Best Practices** \n- Connecting calls from RUM to APM help for troubleshooting by reducing context switching.\n\n**Resources**\n- [Connect RUM to APM](https://docs.datadoghq.com/real_user_monitoring/connect_rum_and_traces)"}}},{"id":"xmpn1pcg","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":"<","palette":"black_on_light_yellow","value":2}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"compute":{"aggregation":"count"},"data_source":"rum","group_by":[],"indexes":["*"],"name":"query1","search":{"query":"@_dd.trace_id:* @type:resource"}},{"compute":{"aggregation":"count"},"data_source":"rum","group_by":[],"indexes":["*"],"name":"query2","search":{"query":"@type:resource"}}],"response_format":"scalar"}],"autoscale":true,"custom_unit":"%","precision":2,"timeseries_background":{"type":"bars"}},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"hfiy7nig","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Enrich sessions with business information\n\n**Best Practices** \n- Enriching sessions provide more insight while troubleshoot. Some examples of added information are: user id, user email, customer tier, feature flags\n\n**Resources**\n- [Identify user session (browser)](https://docs.datadoghq.com/real_user_monitoring/browser/modifying_data_and_context/?tab=npm#identify-user-session)\n- [Enrich and control RUM data](https://docs.datadoghq.com/real_user_monitoring/browser/modifying_data_and_context/?tab=npm#enrich-rum-events)"}}},{"id":"481lgua1","type":"notebook_cells","attributes":{"definition":{"type":"query_value","requests":[{"conditional_formats":[{"comparator":">","palette":"black_on_light_green","value":75},{"comparator":"<=","palette":"black_on_light_yellow","value":75}],"formulas":[{"formula":"query1 / query2 * 100"}],"queries":[{"compute":{"aggregation":"count"},"data_source":"rum","group_by":[],"indexes":["*"],"name":"query1","search":{"query":"@usr.id:* @type:session"}},{"compute":{"aggregation":"count"},"data_source":"rum","group_by":[],"indexes":["*"],"name":"query2","search":{"query":"@type:session"}}],"response_format":"scalar"}],"autoscale":false,"custom_unit":"%","precision":2,"timeseries_background":{"type":"bars"}},"time":null,"split_by":{"tags":[],"keys":[]},"graph_size":"xs"}},{"id":"woijsxl8","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Synthetics\n\n[Number of Synthetic tests](/synthetics/tests) | [Number of API tests](/synthetics/tests?query=type%3A%28-mobile%29%20type%3A%28-api-ssl%29%20type%3A%28-browser)  | [Number of Browser/Mobile tests](/synthetics/tests?query=type%3A%28browser%20OR%20mobile%29) \n---- | ----| ----\n286 | 0 | 64\n\n**Best Practices**\n- Using `env` tag consistently allows for scoping of application specific data across metrics, traces, and logs\n- Using `service` tag consistently associates synthetic tests to specific services and helps with correlation across other portions of the platform (e.g APM).\n- Adding `team` tags to synthetics allows members quicker access to who to contact when an alert is triggered. \n- It also allows teams to manage their synthetic tests in a more precise way by filtering my the `team` tag belonging to them.\n- Synthetics should be configured to notify to appropriate member/teams when an alert is triggered.\n\n**Resources**\n-  [Best practices for creating end-to-end tests](https://www.datadoghq.com/blog/test-creation-best-practices/)\n-  [Unified Service Tagging](https://docs.datadoghq.com/getting_started/tagging/unified_service_tagging/)\n"}}},{"id":"yktrxyhh","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"> Summary (OPTIONAL)\n\nComponent | Value | Score\n------|------|------\nTests with `env` tag | 97.5% | Great\nTests with `service` tag  | 8.3% | Poor\nTests with `team` tag  | 0 | Not using teams\nTests connected to monitors | 65.5% | Ok"}}},{"id":"y70jry6n","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Synthetics with `env`, `service` and `team` tags \n\n[Number of test filtered by `env`](/synthetics/tests?query=env%3A%28%2A%29) | TOTAL\n----| ----\n281 | **97.5%**\n\n[Number of test filtered by `service`](/synthetics/tests?query=service%3A%28%2A%29) | TOTAL\n---- | ----\n24 | **8.3%** \n\n[Number of test filtered by `team`](/synthetics/tests?query=team%3A%28%2A%29) | TOTAL\n---- | ----\n0 | **0%**\n\n\n"}}},{"id":"eh8kcp21","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"## Synthetics connected to monitors\n\n> Summary\n[Number of test filtered by `notification:*`](/synthetics/tests?query=notification%3A%28%2A%29) | TOTAL\n---- | ----\n189 | **65.5%**\n\n"}}},{"id":"fvr5de3j","type":"notebook_cells","attributes":{"definition":{"type":"markdown","text":"# Dashboards \n\n**Best Practices**\n\n-   An attention-grabbing **About** group with a banner image, concise copy, useful links, and good typography hierarchy\n-   A brief annotated **Overview** group with the most important statistics at the top\n-   Simple graph titles and title-case group names\n-   Symmetry in high density mode\n-   Well-formatted, concise notes\n-   Color coordination between related groups, notes within groups, and graphs within groups\n-   Remove unused Dashboards or Lists\n-   Leverage Template variables to allow you dynamically filter widgets\n-   Utilize Event Overlays to add extra dimensions and context for troubleshooting\n-   Revisit Dashboards not been updated/viewed in 90 days to verify if they are relevant\n\n**Resources** \n- [Integration Dashboard](https://docs.datadoghq.com/developers/integrations/create-an-integration-dashboard/)\n\n"}}}],"template_variables":[]}}}